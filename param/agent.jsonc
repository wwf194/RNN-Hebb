{
    "Task": "$^param.task.Task",
    "HiddenNeurons.Num": 500,
    "HiddenNeurons.IsExciInhi": false,
    "InitTasks":[
        {
            "FunctionCall": [
                "&*SetModelInputOutput",
                "&*ParseParam",
            ]
        },
    ],
    "Modules":{
        //"Dataset":"$^param.image",
        "model":"$^param.model",
        "model.Input.Type": "dLDirection", //dXY
        "model.InputInit.Type": "__ToBeSet__",
        "model.ModulePath": "utils_torch.Modules.RNNLIF",
        "__ResolveBase__": true,
    },
    "Dynamics":{
        "InitBeforeEpochTrain":{
            "In": ["BatchParam", "OptimizeParam"],
            "Out": ["BatchNum"],
            "Routings":[
                "Type=Train |--> &^object.image.ClearBatches",
                "BatchParam, Type=Train |--> &^object.image.PrepareBatches",
                "Type=Train |--> &^object.image.GetBatchNum |--> BatchNum",
            ]
        },
        "Train":{
            "In":["BatchParam", "TrainParam"],
            "Out":[],
            "Routings": [
                "Type=Train |--> &^object.image.GetBatch |--> DataBatch",
                "DataBatch, Name=Input |--> &FilterFromDict |--> ModelInput",
                "DataBatch, Name=Output |--> &FilterFromDict |--> ModelOutputTarget",
                "ModelInput, ModelOutputTarget, TrainParam |--> &model.Dynamics.Train",
            ],
        },
        "InitBeforeEpochTest":{
            "In": ["BatchParam", "TrainParam"],
            "Out": ["BatchNum"],
            "Routings":[
                "Type=Test |--> &^object.image.ClearBatches",
                "BatchParam, Type=Test |--> &^object.image.PrepareBatches",
                "Type=Test |--> &^object.image.GetBatchNum|--> BatchNum",
            ]
        },
        "Test":{
            "In":["BatchParam", "TrainParam"],
            "Out":[],
            "Routings": [
                "Type=Test |--> &^object.image.GetBatch |--> DataBatch",
                "DataBatch, Name=Input |--> &FilterFromDict |--> ModelInput",
                "DataBatch, Name=Output |--> &FilterFromDict |--> ModelOutputTarget",
                "ModelInput, ModelOutputTarget, TrainParam |--> &model.Dynamics.Test",
            ],
        },
        "TestRandom":{
            "In":["BatchParam", "TrainParam"],
            "Out":[],
            "Routings": [
                "Type=Test |--> &^object.image.GetRandomBatch |--> DataBatch",
                "DataBatch, Name=Input |--> &FilterFromDict |--> ModelInput",
                "DataBatch, Name=Output |--> &FilterFromDict |--> ModelOutputTarget",
                "ModelInput, ModelOutputTarget, TrainParam |--> &model.Dynamics.Test",
            ],
        }
    }
}